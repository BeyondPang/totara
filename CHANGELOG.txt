Totara LMS Changelog

Release 1.0.13 (31 May 2011):
==================================================

Improvements:
    8485    Add French Totara language pack                                                     First version only, some strings are still missing
    8485    Add German Totara language pack                                                     First version only, there are some known display issues to be resolved
    8333    Add translations for the Javascript date picker
    8042    Add translations for the TinyMCE editor
    8083    Make file picker window styling consistent                                          Only affects the "Totara" theme
    8487    Add explanatory comments in the code for plan item statuses

Bug fixes:
    8445    Face-to-face multi select custom field not displaying data correctly
    8465    Role assignments to non-course contexts throwing errors                             Also happening when updating position assignments
    8414    Fix multiple issues when managing the Quicklinks block
    7589    "LIMIT" SQL usage breaking "My Course Completions" block in MSSQL
    8466    "LIMIT" SQL usage breaking dashboards in MSSQL
    8506    Cannot move items within course using "topics" format using drag and drop
    8463    Replace PHP 5.2.9+ specific function call from Alerts/Tasks                         Affects Totara installations using a version of PHP earlier than 5.2.9 only
    8458    Links in hierarchies visible to users without permission to click
    8459    Report Builder will link to missing Learning Plans                                  Remove broken link
    5734    Deprecated PHP syntax notice in calendar


Release 1.0.12 (24 May 2011):
==================================================

Improvements:
    8283    Log a user's Position and Organisation on course completion                         This data is then available in Report Builder
    6710    Removing duplicate lang strings from Learning Plans

Bug fixes:
    8392    Fix duplicate record errors in various tables
    8004    Face-to-face custom fields can have non-unique shortnames                           This could cause unexpected behaviour with notification emails
    8313    Failed uploads give wrong error message                                             Large uploads threw an unclear error
    8293    Default proficiency value does not always load when adding Competency evidence
    8422    Stats dashlet should not be available for the "My Learning" dashboard               Makes unavailable and removes any existing instances


Release 1.0.11.1 (23 May 2011):
==================================================

Bug fixes:
    8310    Course enrollments broken                                                           Caused by an unrelated fix in a previous release
    8310    Revert change "Forms behave unexpectedly when file uploads exceed post_max_size"
    8069    "Complete" column in completion reports sometimes blank
    6710    Miscellaneous language string fixes                                                 For better cross-language support


Release 1.0.11 (17 May 2011):
==================================================

New features:
    7840    Track SCORM data points in activity completion                                      Add support for tracking activity completion of SCORM content

Improvements:
    8317    Adding "Off" method to competency aggregation                                       Now possible to disable the competency aggregation feature
    8333    Include datepicker localisation file if present                                     Now possible to localise the pop-up calendar for other languages.
    6710    Provide lang strings for column grouping fields                                     For improved multi-lingual support.

Bug fixes:
    6710    Miscellaneous language string fixes For better cross-language support
    8079    Updating framework picker after ajax call                                           On position/organisation details page, framework filter now shows correct value after changes to assigned competencies.
    8276    Fix error when editing blocks on admin pages
    8324    Fix bug in plan template competency settings                                        Resolves problem saving changes in MSSQL
    8068    Hide icons with invalid characters in their names                                   No longer possible to select course or category icons, if the icon filename is invalid
    8282    Fix error when adding blocks to auth plugin pages
    8221    Fix issue with data_object api                                                      Prevents the creation of invalid duplicate records
    7589    Fix error on Learning Plan page for MSSQL
    7589    Fix error with manager assignment for MSSQL


Release 1.0.10 (10 May 2011):
==================================================

Security fixes:
    MDL-25122   Quiz review page does not check and enforce separate groups mode
    MDL-26966   Improve self URL validation
    8061        A user's Tasks/Alerts email notification settings could be edited by other users    Anyone with the capabilities to view a user's profile could edit their notification settings

Improvements:
    8077    Move Course Completion enrollment out of the cron                                       Fixes some timing related bugs, and make completion more responsive
    8209    Improve Record of Learning menu                                                         Links to Record of Learning now included on Learning plan pages.
    8019    Rename "Tasks/Alerts" to "Email notifications" and improve UI
    7896    Improve appearance of detail pages in Learning Plans
    7889    Updated theme screenshots, make the totara_install theme unselectable
    7855    Improve site log coverage
    8243    Add position columns and filters to more Report Builder sources                         The 'Users' and 'Totara Messages' sources now have user position and manager columns available

Bug fixes:
    8214    TinyMCE modifies HTML input, removing some tags
    8188    Problems displaying Report Builder Manage reports page                                  The page would not appear on Windows servers in certain circumstances
    8213    Learning Plan start date resets when updated                                            Start date would be reset to current date if plan details were edited
    8163    Cannot add/edit blocks on admin pages
    8263    Competency evidence dialog styling incorrect
    8220    json_encode/json_decode functions unavailable in older versions of PHP                  Certain pages would fail with a syntax error if the server's PHP version was older than 5.2.0
    8277    Unicode characters not printed correctly                                                Issues were with RPLs in the course report and position data in competency evidence
    7978    Revert previous changes incorrectly made to HTMLeditor
    8192    PHP warnings when updating Tasks/Alerts
    8021    Messaging constants duplicated
    8203    Deprecated code warnings from PHP
    6710    Missing lang string in Completion Status block


Release 1.0.9 (3 May 2011):
==================================================

Improvements:
    8075    Include competencies not attached to a Learning Plan in Record of Learning
    8069    Display completion details for a course even if the user is no longer enrolled  Fixes issues when viewing an RPL's completion status
    8069    Display completion details for course's without criteria                        Fixes issues when viewing an RPL's completion status
    8019    Rename "Messages" tab in user profile to "Tasks/Alerts"                         Make distinction between Tasks/Alerts and Moodle messaging
    8119    Set default sort of components list in Learning Plans to be by name
    7893    Add message to Recent Learning block when no recent learning                    Show message instead of hiding block when empty
    7970    Move course and category icons into the Standard theme                          Remove duplicate icons and use theme hierarchy
    6399    Add emphasis to Learning Plan workflow types in selection form
    7835    Correct word-break behaviour in dialogs in IE                                   Stop breaking in the middle of words when line wrapping in dialogs
    8186    Default to default proficiency value when adding evidence to a Competency       Selector shows correct default value when adding competency evidence

Bug fixes:
    8184    Course completion by date criteria would not let you select a date in the future
    8191    Replace hardcoded references to "mdl_" with $CFG->prefix                        Fixes some cross-database issues
    7589    Broken SQL statement in Learning Plans                                          Prevented linked courses displaying on some databases
    8138    Fix permissions check when auto adding items to Learning Plans                  Under some conditions the Learning Plans would throw an error on creation
    8094    Completion status icon not appearing when viewing Course's details
    8095    Do not link to a Learning Plan in a "Plan deleted" alert                        Link to the owner's Learning Plan index
    8195    My Course Completions block using wrong ID for link to course status
    5734    International characters display issue for RPLs
    8175    Course Completion detail reports would display no status for some criteria
    8172    Renaming column in Course Completion using a reserved word                      Fixes issues for some databases
    8124    Add link to Learning Plan in "Plan completed" alerts
    8190    Fix errors in Scheduled Reports cron job
    8172    Fix hardcoded language strings in Course Completion                             This prevented the translated strings being used


Release 1.0.8.1 (28 April 2011):
==================================================

Bug fixes:
    8049    Existing Face-to-face select type custom fields not updated to new separator syntax     Select type Face-to-face custom fields were broken after 1.0.8 release


Release 1.0.8 (26 April 2011):
==================================================

Improvements:
    8057    Exclude "in progress" courses from Learning Plan's progress             Only complete items count towards plan progress.
    8062    Improve scale value parsing in multi-edit input
    8073    Make Learning Plan descriptions optional
    8049    Update Face-to-face custom field interface to be more like scales       Menu of choices are input one-per line, instead of separated by semi-colons
    8161    jQuery unnecessarily included on every page

Bug fixes:
    8072    Remove PHP 5.3 syntax from priority scale code                  Fixes blank screens in learning plans for sites not running PHP 5.3
    8118    Install dashboard after roles when upgrading from Moodle        My Team dashboard will now appear following upgrades
    8065    Unescaped % in Feedback language string
    8123    Competency evidence restore referencing old table name          Fixes problem with course restore.
    8082    Use specified status when creating an Objective                 Objective status can now be set when objective created.
    8074    Disable unused checkboxes in Learning Plan template settings
    8111    TinyMCE spell checker missing
    8110    TinyMCE image preview broken in Firefox
    8081    Include completion code library on all pages


Release 1.0.7 (12 April 2011):
==================================================

Improvements:
    8023    Fix inconsistencies in competency/proficiency/objective scales  Better notification messages, less strict restrictions on changing scales in use.
    7987    Remove language pack downloader/installer                       Language download from moodle.org no longer included. Language packs will be included with Totara releases automatically
    8022    Add a generic function for displaying course progress           Course progress now links to course completion details report if user has sufficient privileges.
    8048    Explicity ensure reminders aren't sent on weekends
    7991    Add upstream improvements to local/oauth
    6399    Classes missing from completion reports                         Improves styling of various course completion related reports
    6399    Remove odd Report Builder cell styling
    8007    Add generic permissions check for viewing completion data

Bug fixes:
    8060    Added missing tinyMCE plugin                                Fixes error when adding images via rich-text editor
    8047    Help buttons broken in local modules
    7140    Capacity display does not include waitlisted users in Face-to-face
    8044    Fullmessage formatting issues in Alerts/Tasks               Email formatting improved
    8059    Tabs disappear and reappear in user profile
    8043    Inconsistencies between results from totara_get_manager(), totara_is_manager(), totara_get_staff()
    8041    Hidden topic's content never displays for teachers in IE6
    8058    Reminder's were using the wrong period for their deadline
    7800    Totara blocks/modules appear as "non-standard"  Warning messages will no longer appear during upgrades


Release 1.0.6 (5 April 2011):
==================================================

New features:
    7981    Add option to only auto assign incomplete competencies to a new Learning Plan       A new checkbox available in Template > Advanced Workflow > Competencies. When unchecked, completed competencies will not be automatically assigned to new learning plans.

Improvements:
    7948    Changing definition of active/completed in the Record of Learning                   See http://community.totaralms.com/mod/forum/discuss.php?d=328
    7978    Upgrading TinyMCE to the latest major version (3.4)                                 If you have problems after the upgrade, clearing your caches should fix them
    7889    Updated screen shots for sector themes
    7946    Improve styling of next/previous links in Face-to-face calendar                     Arrows no longer overlap text

Bug fixes:
    8013    Cannot sort by text fields in MSSQL                                                 A database upgrade will shorten competency and position names to a maximum of 1024 characters
    8018    Course completion progress in Record Learning sometimes incorrect
    8014    Deleted users appear in Manager assignment dialog box
    8020    Local module language strings not translatable                                      Local module language files now appear in translation section
    8016    Hard coded text appearing in dialogs                                                Text is now inside a language file and able to be modified
            Mediaplugin filter regex matching problematic                                       Fix from Moodle upstream
    8002    Guest user appears in Manager assignment dialog box                                 Exclude guest from user list
    8029    Position and Messaging tabs appear outside of a user's profile                      On the Course Participants page for instance
    7982    Duplicate records can appear in course completion under the right circumstances     Added unique indexes to prevent this occuring. Records with duplicate keys will have be removed manually from the database.
    7265    "Update settings" button not always appearing in Learning Plans                     Javascript that shows/hides 'Update settings' button now works correctly
    7982    Check for success before sending "Course completed" Alerts                          Previously if the database update had failed, the Alerts were still sent
    8040    Default priority appearing twice inside drop down in Learning Plans
    7916    Certain columns and filters not appearing in Report Builder


Release 1.0.5 (29 March 2011):
==================================================

Security fixes:
    7989    Data not escaped when updating competency evidence count                    Prevented users from assigning evidence items in some cases. Only exploitable by users who were able to create/delete competencies

Improvements:
    7988    Fix out of date lang string in Team Members page                            No long reads "Clicking the notepad icon to the right..."
    8006    Handle completion data in user profile report better                        Improves display and completion status checks
    7855    Add site logs to Learning Plans                                             Improve coverage of site logs
    7993    Modify "topic" course format to remove unnecessary elements                 Remove title and topic numbers to make layout look cleaner
    8011    Rename submit button when creating a report in Report Builder
    7825    Updating default course icon PNGs                                           Update PNGs and set IE6/7 margins
    8009    Styling fixes for dialogs and forms in IE6/7
    7973    Tidy up dashlet background and heading styling                              Fixes misaligned backgrounds on dashlets in IE6
    7976    Improved fix for overlapping text in IE6 text fields                        Stops Report Builder filters overlapping
    7972    Move Recent Learning completion status icon styling into Standard theme
    8005    Make sure notification preferences are up-to-date                           Previously there could be cases where a user's preference changes did not take affect immediately
    7982    Improve 'morethanonerecordinfetch' error message to include debug data

Bug fixes:
    8001    Fix Report Builder bug introduce in previous upgrade                        Advanced filters were not being hidden
    7977    Certificate module edit form conflicts with completion form elements
    7974    Fix UTF8 character display in dialogs                                       Fixes issues with displaying international characters
    7953    Remove all relevant data when deleting hierarchy items
    7986    Default columns and filters are missing from Report Builder "user" source   Only affects reports created after this fix is applied
    7934    Show message if attempting to signup to a Face-to-face session but without correct permissions
                                                                                        Used to just throw an ambiguous permissions error
    8008    Managers cannot view their staff's completion details                       Managers no longer have to be enrolled in the course, or have capabilities manually added
    7990    Prevent divide by zero error when calculating Learning plan progress        Only appeared when debugging was turned on, and didn't affect behaviour
    5879    Fix misspellings of "enrolled"                                              Replaced "enroled" with "enrolled"
    5879    Fix inconsistent capitalisation on menu items
    7983    Remove unused capability 'local:recievenotification'
    5734    Misc PHP notices during installation


Release 1.0.4 (22 March 2011):
==================================================
Security fixes:
    7149    Face-to-face event name is not escaped before inserting into database   Only exploitable by users who are able to create Face-to-face activities

Improvements:
    7951    Point calendar tab in main menu to the site calendar rather than the Face-to-face calendar      Calendar will look slightly different, and may contain more events
    7866    Improve Learning Plan progress to include all components                                        Learning Plans now require all component entries to be complete
    7939    Add custom user profile fields to "user" Report Builder source                                  More column options available when creating user reports
    7900    Do not enable activity completion by default for new activities
    7941    Add cancel buttons when editing Learning Plan template workflows
    7935    Hide icons in Course Administration menu in Totara theme
    6072    Standardized line endings in sector themes                                                      Remove windows line endings and whitespace to clean up code

Bug fixes:
    7561    Errors during MSSQL install                                 A fresh Totara install on MSSQL now completes successfully
    7949    TinyMCE "insert table" button fails in Google Chrome
    7966    Numerous IE6 theme issues
    7963    Default Course/Category icons inconsistent                  Default icon's have been updated to be consistent with the rest
    7879    Styling lost for Learning Plan item view page               Fix spacing and colouring of details
    7955    Improve error checking in Report Builder source search      Fixes broken reports that occurred when PHP safe mode was on
    7937    Remove footer help links from themes                        Footer no longer shows link to moodle help documentation
    6739    Report Builder upgrade script not checking custom fields    Previous upgrades threw errors if no custom fields were defined
    7944    Removed unnecessary check before displaying menu in theme   When an installations fullname was an empty string, the header menu in Totara did not display
    7916    Unique reference to custom fields in Report Builder         Fixes bug when custom field shortnames contain upper case letters
    7943    Problem when triggering an error in Report Builder          Error now displays with correct information


Release 1.0.3 (15 March 2011):
==================================================
Improvements:
    6072    Split up upgrade notes into MOODLEUPDATE.txt and UPGRADE.txt
    7619    Improved navigation when editing custom fields
    7855    More site logs added to Totara functionality
    5879    Improve site registration message                           Previous message did not explain the dependency on the cron
    6661    Improve course completion block's messages                  Blocks now they show explanatory text if completion settings are incorrect

Bug fixes:
    7561    Broken transaction breaking MSSQL installation
    7923    Trainers not assigned to F2F sessions                       Trainers are now correctly assigned to Face-to-face sessions
    7915    Trainer name duplicated in F2F report
    7901    Allow admins to assign new Totara roles by default
    7927    Remove deprecated column from Competency Evidence report    Column will no longer appear
    7877    Completion sometimes takes two cron runs                    Affected smaller site where the criteria and aggregation would occur during the same second
    7902    Remove Community theme from release
    7889    Add screenshot for Totara theme to theme picker
    7853    Dashlet background misalignment issue
    6072    Updated PHP version number in INSTALL.txt file
    7890    Fix styling of Recent Learning dashlet


Release 1.0.2 (8 March 2011):
==================================================
Security fixes:
    7804    Fix arbitrary redirection bug                               Closed potential phishing vulnerability in Alerts/Tasks

Improvements:
    6072    Added UPGRADE.txt
    7884    Added CHANGELOG.txt
    7852    Scale value entry boxes enlarged                            Competency, objective, and priority scales all now have a larger input box for values
    7490    Add HTML editing to plan/objective descriptions
    7844    Progress column in learning plans is sometimes hidden       Column is hidden if there is no progress data, it is now always shown
    7855    Adding more site logging                                    Improve audit trail by adding more site logs to new Totara functionality
    7858    Add Assessor role to new installations                      Also fix issues with the Manager role not appearing after upgrading

Bug fixes:
    7836    Fixed minimum PHP version requirement check                 Was 5.2.8, now 5.1.6
    7849    TinyMCE mistakenly resets site language                     Changing the logged in user's language will now work as expected
    7869    Empty strings prevent table columns being hidden            This was due to a bug in flexible tables
    7867    Incomplete completion data can break upgrades               Should have only been a problem when upgrading from pre-release versions of Totara
    7880    Windows installations using MySQL failing to install        Due to Windows only MySQL bug
    7870    Do not send Alert if there is an error adding an objective  Previously an Alert was sent even if an objective had failed to be added/edited
    7850    Course completion status not displayed for linked courses   Previously no status data was displayed
    7882    Revert to old Media Plugin filter                           Due to a bug in the Moodle 1.9.11 release breaking the filter


Release 1.0.1 (1 March 2011):
==================================================
Initial public release.
