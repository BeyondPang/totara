<?xml version="1.0" encoding="UTF-8" ?>
<XMLDB PATH="mod/lplan/db" VERSION="20071211" COMMENT="XMLDB file for Moodle mod/lplan"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="../../../lib/xmldb/xmldb.xsd"
>
  <TABLES>
    <TABLE NAME="lplan" COMMENT="Learning Planner activities" NEXT="lplan_plan">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" SEQUENCE="true" ENUM="false" NEXT="name"/>
        <FIELD NAME="name" TYPE="char" LENGTH="255" NOTNULL="false" SEQUENCE="false" ENUM="false" COMMENT="User-defined name for this Learning Plan" PREVIOUS="id" NEXT="course"/>
        <FIELD NAME="course" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="ID of the course in which this lplan activity resides" PREVIOUS="name" NEXT="disclaimer"/>
        <FIELD NAME="disclaimer" TYPE="text" LENGTH="medium" NOTNULL="false" SEQUENCE="false" ENUM="false" COMMENT="Disclaimer to be displayed when creating new plans" PREVIOUS="course" NEXT="enablefavourites"/>
        <FIELD NAME="enablefavourites" TYPE="int" LENGTH="1" NOTNULL="true" UNSIGNED="true" DEFAULT="1" SEQUENCE="false" ENUM="false" COMMENT="Set to 1 if favourites are enabled, 0 otherwise." PREVIOUS="disclaimer" NEXT="enablesearch"/>
        <FIELD NAME="enablesearch" TYPE="int" LENGTH="1" NOTNULL="true" UNSIGNED="true" DEFAULT="1" SEQUENCE="false" ENUM="false" COMMENT="Set to 1 to enable searching for objectives, 0 to disable that feature." PREVIOUS="enablefavourites"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
      </KEYS>
    </TABLE>
    <TABLE NAME="lplan_plan" COMMENT="Learning Plan" PREVIOUS="lplan" NEXT="lplan_revision">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" SEQUENCE="true" ENUM="false" NEXT="name"/>
        <FIELD NAME="name" TYPE="char" LENGTH="255" NOTNULL="false" SEQUENCE="false" ENUM="false" COMMENT="Learning Plan name" PREVIOUS="id" NEXT="activity"/>
        <FIELD NAME="activity" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="ID of the associated lplan activity" PREVIOUS="name" NEXT="userid"/>
        <FIELD NAME="userid" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="ID of the user who created that plan." PREVIOUS="activity" NEXT="startdate"/>
        <FIELD NAME="startdate" TYPE="int" LENGTH="20" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="Starting date of the training period" PREVIOUS="userid" NEXT="enddate"/>
        <FIELD NAME="enddate" TYPE="int" LENGTH="20" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="End date of the training period." PREVIOUS="startdate"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="userid" UNIQUE="false" FIELDS="userid" NEXT="activity"/>
        <INDEX NAME="activity" UNIQUE="false" FIELDS="activity" PREVIOUS="userid"/>
      </INDEXES>
    </TABLE>
    <TABLE NAME="lplan_revision" COMMENT="Revision of a Learning Plan" PREVIOUS="lplan_plan" NEXT="lplan_approval">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" SEQUENCE="true" ENUM="false" NEXT="lplan"/>
        <FIELD NAME="lplan" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="ID of the associated Learning Plan" PREVIOUS="id" NEXT="submittedtime"/>
        <FIELD NAME="submittedtime" TYPE="int" LENGTH="20" NOTNULL="false" UNSIGNED="true" SEQUENCE="false" ENUM="false" COMMENT="Date and time that the plan was submitted, NULL if not yet submitted." PREVIOUS="lplan" NEXT="ctime"/>
        <FIELD NAME="ctime" TYPE="int" LENGTH="20" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="Date and time of creation of this revision." PREVIOUS="submittedtime" NEXT="mtime"/>
        <FIELD NAME="mtime" TYPE="int" LENGTH="20" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="Date and time of last modification" PREVIOUS="ctime" NEXT="withdrawntime"/>
        <FIELD NAME="withdrawntime" TYPE="int" LENGTH="20" NOTNULL="false" UNSIGNED="true" SEQUENCE="false" ENUM="false" COMMENT="Date and time when this submitted revision was withdrawn" PREVIOUS="mtime" NEXT="visible"/>
        <FIELD NAME="visible" TYPE="int" LENGTH="1" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="Set to 1 if the revision should be visible to staff members and supervisors" PREVIOUS="withdrawntime" NEXT="evaluatedtime"/>
        <FIELD NAME="evaluatedtime" TYPE="int" LENGTH="20" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="The time at which a self-evaluation for this revision was submitted. 0 if the self-evaluation hasn't been submitted yet." PREVIOUS="visible" NEXT="evaluationcomment"/>
        <FIELD NAME="evaluationcomment" TYPE="text" LENGTH="medium" NOTNULL="false" SEQUENCE="false" ENUM="false" COMMENT="An optional comment that the user provided during the self-evaluation." PREVIOUS="evaluatedtime"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="lplan" UNIQUE="false" FIELDS="lplan"/>
      </INDEXES>
    </TABLE>
    <TABLE NAME="lplan_approval" COMMENT="List of approved Learning Plan revisions" PREVIOUS="lplan_revision" NEXT="lplan_revision_objective">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" SEQUENCE="true" ENUM="false" NEXT="revision"/>
        <FIELD NAME="revision" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="ID of the Learning Plan revision which was approved." PREVIOUS="id" NEXT="approvedby"/>
        <FIELD NAME="approvedby" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="User ID of the user who approved this revision" PREVIOUS="revision" NEXT="onbehalfof"/>
        <FIELD NAME="onbehalfof" TYPE="int" LENGTH="10" NOTNULL="false" UNSIGNED="true" SEQUENCE="false" ENUM="false" COMMENT="User ID on behalf of whom this revision was approved, NULL when it was approved on behalf of the approver himself." PREVIOUS="approvedby" NEXT="ctime"/>
        <FIELD NAME="ctime" TYPE="int" LENGTH="20" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="Date and time when this approval was given." PREVIOUS="onbehalfof"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="revision" UNIQUE="false" FIELDS="revision"/>
      </INDEXES>
    </TABLE>
    <TABLE NAME="lplan_revision_objective" COMMENT="List of objectives associated with each Learning Plan revision." PREVIOUS="lplan_approval" NEXT="lplan_revision_comment">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" SEQUENCE="true" ENUM="false" NEXT="revision"/>
        <FIELD NAME="revision" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="Learning Plan revision ID" PREVIOUS="id" NEXT="objective"/>
        <FIELD NAME="objective" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="Objective ID" PREVIOUS="revision" NEXT="ctime"/>
        <FIELD NAME="ctime" TYPE="int" LENGTH="20" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="Date and time that this objective was added to this revision." PREVIOUS="objective" NEXT="grade"/>
        <FIELD NAME="grade" TYPE="int" LENGTH="8" NOTNULL="false" UNSIGNED="true" SEQUENCE="false" ENUM="false" COMMENT="Grade given by the user during self-evaluation. NULL when not evaluated." PREVIOUS="ctime" NEXT="postapproval"/>
        <FIELD NAME="postapproval" TYPE="int" LENGTH="1" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="Set to 1 if this objective was added after the plan was approved, during the self-evaluation. Otherwise, 0 for normal objectives" PREVIOUS="grade"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="revision" UNIQUE="false" FIELDS="revision"/>
      </INDEXES>
    </TABLE>
    <TABLE NAME="lplan_revision_comment" COMMENT="Comments made against a specific revisions of a Learning Plans." PREVIOUS="lplan_revision_objective" NEXT="lplan_favourite">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" SEQUENCE="true" ENUM="false" NEXT="revision"/>
        <FIELD NAME="revision" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="Revision ID" PREVIOUS="id" NEXT="author"/>
        <FIELD NAME="author" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="ID of the user who made this comment." PREVIOUS="revision" NEXT="contents"/>
        <FIELD NAME="contents" TYPE="text" LENGTH="medium" NOTNULL="false" SEQUENCE="false" ENUM="false" COMMENT="Contents of the comment." PREVIOUS="author" NEXT="ctime"/>
        <FIELD NAME="ctime" TYPE="int" LENGTH="20" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="Date and time when this comment was submitted." PREVIOUS="contents"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="revision" UNIQUE="false" FIELDS="revision"/>
      </INDEXES>
    </TABLE>
    <TABLE NAME="lplan_favourite" COMMENT="List of a user's favourite objectives." PREVIOUS="lplan_revision_comment" NEXT="lplan_list_item">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" SEQUENCE="true" ENUM="false" NEXT="userid"/>
        <FIELD NAME="userid" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="User ID" PREVIOUS="id" NEXT="objective"/>
        <FIELD NAME="objective" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="ID of the objective" PREVIOUS="userid" NEXT="ctime"/>
        <FIELD NAME="ctime" TYPE="int" LENGTH="20" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="Date and time when this objective was added to the favourites list." PREVIOUS="objective"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="userid" UNIQUE="false" FIELDS="userid"/>
      </INDEXES>
    </TABLE>
    <TABLE NAME="lplan_list_item" COMMENT="Extra information provided by the user in the form of list items." PREVIOUS="lplan_favourite">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" SEQUENCE="true" ENUM="false" NEXT="revision"/>
        <FIELD NAME="revision" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="Revision ID" PREVIOUS="id" NEXT="contents"/>
        <FIELD NAME="contents" TYPE="text" LENGTH="small" NOTNULL="false" SEQUENCE="false" ENUM="false" COMMENT="Contents as entered by the user." PREVIOUS="revision" NEXT="listtype"/>
        <FIELD NAME="listtype" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="ID of the type of list that this item refers to.  These IDs are not defined in the database schema (i.e. not a foreign key)." PREVIOUS="contents" NEXT="ctime"/>
        <FIELD NAME="ctime" TYPE="int" LENGTH="20" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="Date and time when this item was added." PREVIOUS="listtype"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="revision" UNIQUE="false" FIELDS="revision" NEXT="listtype"/>
        <INDEX NAME="listtype" UNIQUE="false" FIELDS="listtype" PREVIOUS="revision"/>
      </INDEXES>
    </TABLE>
  </TABLES>
</XMLDB>
